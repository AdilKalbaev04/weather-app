(function(){"use strict";var t={3073:function(t,s,a){var e=a(9242),i=a(3396),n=a(7139);const d=t=>((0,i.dD)("data-v-6d528a22"),t=t(),(0,i.Cn)(),t),r={class:"container"},o={class:"search-wrap"},c=d((()=>(0,i._)("img",{src:"/search.svg",alt:"",class:"search-icon"},null,-1))),l={class:"weather-info"},u={class:"city-name"},h={class:"add-weather-info"},v={class:"wind-speed"},m={class:"humidity"},p={class:"temp"},w={class:"date-wrap"},f={class:"date"},g={class:"time"};function _(t,s,a,d,_,y){const b=(0,i.up)("Loader"),C=(0,i.up)("Alert");return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(),(0,i.j4)((0,i.LL)(_.weatherComponent))),(0,i._)("div",r,[(0,i._)("div",o,[(0,i._)("label",{class:(0,n.C_)(["search-label",{"input-not-empty-search-label":_.inputNotEmpty}]),title:"Найти город"},[c,(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Город",class:(0,n.C_)(["search-input",{"input-not-empty-search-input":_.inputNotEmpty}]),ref:"cityInput","onUpdate:modelValue":s[0]||(s[0]=t=>_.cityName=t),onInput:s[1]||(s[1]=(...t)=>y.handleInput&&y.handleInput(...t))},null,34),[[e.nr,_.cityName]])],2),(0,i._)("button",{class:(0,n.C_)(["search-btn",{"input-not-empty-search-btn":_.inputNotEmpty}]),onClick:s[2]||(s[2]=(...t)=>y.getWeatherAndDateInfo&&y.getWeatherAndDateInfo(...t))}," Поиск ",2)]),(0,i.wy)((0,i._)("div",l,[(0,i._)("span",u,(0,n.zw)(_.lastSearchedCity),1),(0,i._)("div",h,[(0,i._)("span",v,"Скорость ветра: "+(0,n.zw)(_.windSpeed)+" м/с",1),(0,i._)("span",m,"Влажность: "+(0,n.zw)(_.humidity)+"%",1)]),(0,i._)("span",p,(0,n.zw)(_.temp)+"°C",1),(0,i._)("div",w,[(0,i._)("span",f,(0,n.zw)(_.date),1),(0,i._)("span",g,(0,n.zw)(_.time),1)])],512),[[e.F8,_.weatherDataReceived]])]),(0,i.wy)((0,i.Wm)(b,null,null,512),[[e.F8,_.loaderShow]]),(0,i.wy)((0,i.Wm)(C,{message:_.alertMessage,onCloseAlert:y.handleAlertClose},null,8,["message","onCloseAlert"]),[[e.F8,_.alertShow]])],64)}const y=t=>((0,i.dD)("data-v-853b614c"),t=t(),(0,i.Cn)(),t),b={class:"wrap"},C=y((()=>(0,i._)("div",{class:"sky"},null,-1))),D=y((()=>(0,i._)("div",{class:"sunlight"},null,-1))),S=y((()=>(0,i._)("div",{class:"sun"},null,-1))),W=y((()=>(0,i._)("div",{class:"mountains"},null,-1))),k=[C,D,S,W];function I(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",b,k)}var N={},Z=a(89);const E=(0,Z.Z)(N,[["render",I],["__scopeId","data-v-853b614c"]]);var F=E;const A=t=>((0,i.dD)("data-v-c8420944"),t=t(),(0,i.Cn)(),t),M={class:"wrap"},O=A((()=>(0,i._)("div",{class:"sky"},null,-1))),R=A((()=>(0,i._)("div",{class:"sun"},null,-1))),T=A((()=>(0,i._)("div",{class:"mountains"},null,-1))),z=[O,R,T];function j(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",M,z)}var U={};const L=(0,Z.Z)(U,[["render",j],["__scopeId","data-v-c8420944"]]);var x=L;const $=t=>((0,i.dD)("data-v-361357fc"),t=t(),(0,i.Cn)(),t),Y={class:"wrap"},q=$((()=>(0,i._)("div",{class:"sky"},null,-1))),H=$((()=>(0,i._)("div",{class:"sunlight"},null,-1))),P=$((()=>(0,i._)("div",{class:"sun"},null,-1))),K=$((()=>(0,i._)("div",{class:"mountains"},null,-1))),V=[q,H,P,K];function B(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",Y,V)}var G={};const J=(0,Z.Z)(G,[["render",B],["__scopeId","data-v-361357fc"]]);var Q=J;const X={class:"wrap"},tt=(0,i.uE)('<div class="sky" data-v-75fb0e1f></div><div class="stars" data-v-75fb0e1f></div><div class="mountains" data-v-75fb0e1f></div><div class="blackout" data-v-75fb0e1f></div><div class="moon" data-v-75fb0e1f></div>',5),st=[tt];function at(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",X,st)}var et={};const it=(0,Z.Z)(et,[["render",at],["__scopeId","data-v-75fb0e1f"]]);var nt=it;const dt={class:"wrap"},rt=(0,i.uE)('<div class="sky" data-v-12613d4b></div><div class="sunlight" data-v-12613d4b></div><div class="sun" data-v-12613d4b></div><div class="mountains" data-v-12613d4b></div><div class="clouds" data-v-12613d4b></div>',5),ot=[rt];function ct(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",dt,ot)}var lt={};const ut=(0,Z.Z)(lt,[["render",ct],["__scopeId","data-v-12613d4b"]]);var ht=ut;const vt=t=>((0,i.dD)("data-v-52193ffb"),t=t(),(0,i.Cn)(),t),mt={class:"wrap"},pt=vt((()=>(0,i._)("div",{class:"sky"},null,-1))),wt=vt((()=>(0,i._)("div",{class:"sun"},null,-1))),ft=vt((()=>(0,i._)("div",{class:"mountains"},null,-1))),gt=vt((()=>(0,i._)("div",{class:"clouds"},null,-1))),_t=[pt,wt,ft,gt];function yt(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",mt,_t)}var bt={};const Ct=(0,Z.Z)(bt,[["render",yt],["__scopeId","data-v-52193ffb"]]);var Dt=Ct;const St={class:"wrap"},Wt=(0,i.uE)('<div class="sky" data-v-6a335506></div><div class="sunlight" data-v-6a335506></div><div class="sun" data-v-6a335506></div><div class="mountains" data-v-6a335506></div><div class="clouds" data-v-6a335506></div>',5),kt=[Wt];function It(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",St,kt)}var Nt={};const Zt=(0,Z.Z)(Nt,[["render",It],["__scopeId","data-v-6a335506"]]);var Et=Zt;const Ft={class:"wrap"},At=(0,i.uE)('<div class="sky" data-v-7dcd63d4></div><div class="stars" data-v-7dcd63d4></div><div class="mountains" data-v-7dcd63d4></div><div class="blackout" data-v-7dcd63d4></div><div class="moon" data-v-7dcd63d4></div><div class="clouds" data-v-7dcd63d4></div>',6),Mt=[At];function Ot(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",Ft,Mt)}var Rt={};const Tt=(0,Z.Z)(Rt,[["render",Ot],["__scopeId","data-v-7dcd63d4"]]);var zt=Tt;const jt=t=>((0,i.dD)("data-v-e19fa164"),t=t(),(0,i.Cn)(),t),Ut={class:"wrap"},Lt=jt((()=>(0,i._)("div",{class:"sky"},null,-1))),xt=jt((()=>(0,i._)("div",{class:"mountains"},null,-1))),$t=jt((()=>(0,i._)("div",{class:"rain"},null,-1))),Yt=jt((()=>(0,i._)("div",{class:"clouds"},null,-1))),qt=[Lt,xt,$t,Yt];function Ht(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",Ut,qt)}var Pt={data(){return{audioSource:a(3343)}}};const Kt=(0,Z.Z)(Pt,[["render",Ht],["__scopeId","data-v-e19fa164"]]);var Vt=Kt;const Bt={class:"wrap"},Gt=(0,i.uE)('<div class="sky" data-v-c6ac745e></div><div class="mountains" data-v-c6ac745e></div><div class="blackout" data-v-c6ac745e></div><div class="moon" data-v-c6ac745e></div><div class="rain" data-v-c6ac745e></div><div class="clouds" data-v-c6ac745e></div>',6),Jt=[Gt];function Qt(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",Bt,Jt)}var Xt={data(){return{audioSource:a(3343)}}};const ts=(0,Z.Z)(Xt,[["render",Qt],["__scopeId","data-v-c6ac745e"]]);var ss=ts;const as={class:"wrap"},es=(0,i.uE)('<div class="sky" data-v-c54be554></div><div class="mountains" data-v-c54be554></div><div class="snowflakes-back" data-v-c54be554></div><div class="snowflakes-front" data-v-c54be554></div><div class="clouds" data-v-c54be554></div>',5),is=[es];function ns(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",as,is)}var ds={};const rs=(0,Z.Z)(ds,[["render",ns],["__scopeId","data-v-c54be554"]]);var os=rs;const cs={class:"wrap"},ls=(0,i.uE)('<div class="sky" data-v-8adae932></div><div class="mountains" data-v-8adae932></div><div class="blackout" data-v-8adae932></div><div class="moon" data-v-8adae932></div><div class="snowflakes-back" data-v-8adae932></div><div class="snowflakes-front" data-v-8adae932></div><div class="clouds" data-v-8adae932></div>',7),us=[ls];function hs(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",cs,us)}var vs={};const ms=(0,Z.Z)(vs,[["render",hs],["__scopeId","data-v-8adae932"]]);var ps=ms;const ws=t=>((0,i.dD)("data-v-1b6ebb3e"),t=t(),(0,i.Cn)(),t),fs={class:"wrap"},gs=ws((()=>(0,i._)("div",{class:"sky"},null,-1))),_s=ws((()=>(0,i._)("div",{class:"mountains"},null,-1))),ys=ws((()=>(0,i._)("div",{class:"fog"},null,-1))),bs=[gs,_s,ys];function Cs(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",fs,bs)}var Ds={};const Ss=(0,Z.Z)(Ds,[["render",Cs],["__scopeId","data-v-1b6ebb3e"]]);var Ws=Ss;const ks={class:"wrap"},Is=(0,i.uE)('<div class="sky" data-v-a6b24152></div><div class="stars" data-v-a6b24152></div><div class="mountains" data-v-a6b24152></div><div class="fog" data-v-a6b24152></div><div class="blackout" data-v-a6b24152></div><div class="moon" data-v-a6b24152></div>',6),Ns=[Is];function Zs(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",ks,Ns)}var Es={};const Fs=(0,Z.Z)(Es,[["render",Zs],["__scopeId","data-v-a6b24152"]]);var As=Fs;const Ms=t=>((0,i.dD)("data-v-37e81eca"),t=t(),(0,i.Cn)(),t),Os={class:"blackout"},Rs=Ms((()=>(0,i._)("div",{class:"loader"},[(0,i._)("div",{class:"sun"}),(0,i._)("div",{class:"moon"})],-1))),Ts=[Rs];function zs(t,s,a,e,n,d){return(0,i.wg)(),(0,i.iD)("div",Os,Ts)}var js={};const Us=(0,Z.Z)(js,[["render",zs],["__scopeId","data-v-37e81eca"]]);var Ls=Us;const xs={class:"blackout"},$s={class:"alert"},Ys={class:"alert-message"};function qs(t,s,a,d,r,o){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",xs,[(0,i._)("div",$s,[(0,i._)("span",Ys,(0,n.zw)(a.message),1),(0,i._)("button",{class:"alert-btn",onClick:s[0]||(s[0]=(...t)=>o.closeAlert&&o.closeAlert(...t))},"OK")])],512)),[[e.F8,r.isShow]])}var Hs={props:{message:{type:String,required:!0}},data(){return{isShow:!0}},methods:{closeAlert(){this.isShow=!1,this.$emit("closeAlert")}}};const Ps=(0,Z.Z)(Hs,[["render",qs],["__scopeId","data-v-c998f652"]]);var Ks=Ps,Vs={data(){return{inputNotEmpty:!1,loaderShow:!1,weatherDataReceived:!1,weather:"",timestamp:null,sunrise:null,sunset:null,weatherComponent:"ClearMiddayWeather",alertMessage:"",alertShow:!1,cityName:"",lastSearchedCity:"",temp:null,windSpeed:null,humidity:null,date:"",time:""}},methods:{async getWeatherAndDateInfo(){this.weatherDataReceived=!1,this.loaderShow=!0,this.lastSearchedCity=this.cityName.trim(),this.cityName="",this.inputNotEmpty=!1;try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${this.lastSearchedCity}&units=metric&appid=b5c952878f87e59251c909263387e508`);if(t.ok){const s=await t.json();this.weather=s.weather[0].main.toLowerCase(),this.sunrise=s.sys.sunrise,this.sunset=s.sys.sunset;const a=s.coord.lon,e=s.coord.lat,i=await fetch(`https://api.timezonedb.com/v2.1/get-time-zone?key=Z9YDYZL3HLL0&format=json&by=position&lat=${e}&lng=${a}`),n=await i.json();this.timestamp=n.timestamp;const d=new Date(1e3*this.timestamp),r=new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric",timeZone:"UTC",hour12:!1}),o=r.format(d),c=new Intl.DateTimeFormat("ru-RU",{hour:"numeric",minute:"numeric",timeZone:"UTC",hour12:!1}),l=c.format(d);this.weatherDataReceived=!0,this.temp=Math.round(s.main.temp),this.windSpeed=s.wind.speed,this.humidity=s.main.humidity,this.date=o,this.time=l;const u=new Date(1e3*s.sys.sunrise),h=new Date(1e3*s.sys.sunset);u.setUTCSeconds(u.getUTCSeconds()+s.timezone),h.setUTCSeconds(h.getUTCSeconds()+s.timezone);const v=Math.floor(u.getTime()/1e3);this.sunrise=v;const m=Math.floor(h.getTime()/1e3);this.sunset=m;const p={clear:()=>{this.timestamp>=this.sunrise-3600&&this.timestamp<=this.sunrise+3600?this.weatherComponent="ClearSunriseWeather":this.timestamp>=this.sunrise+3600&&this.timestamp<=this.sunset-3600?this.weatherComponent="ClearMiddayWeather":this.timestamp>=this.sunset-3600&&this.timestamp<=this.sunset+3600?this.weatherComponent="ClearSunsetWeather":this.weatherComponent="ClearNightWeather"},clouds:()=>{this.timestamp>=this.sunrise-3600&&this.timestamp<=this.sunrise+3600?this.weatherComponent="CloudsSunriseWeather":this.timestamp>=this.sunrise+3600&&this.timestamp<=this.sunset-3600?this.weatherComponent="CloudsMiddayWeather":this.timestamp>=this.sunset-3600&&this.timestamp<=this.sunset+3600?this.weatherComponent="CloudsSunsetWeather":this.weatherComponent="CloudsNightWeather"},rain:()=>{this.timestamp>=this.sunrise-3600&&this.timestamp<=this.sunset+3600?this.weatherComponent="RainWeather":this.timestamp>=this.sunset+3600&&this.timestamp<=this.sunrise-3600&&(this.weatherComponent="RainNightWeather")},snow:()=>{this.timestamp>=this.sunrise-3600&&this.timestamp<=this.sunset+3600?this.weatherComponent="SnowWeather":this.timestamp>=this.sunset+3600&&this.timestamp<=this.sunrise-3600&&(this.weatherComponent="SnowNightWeather")},fog:()=>{this.timestamp>=this.sunrise-3600&&this.timestamp<=this.sunset+3600?this.weatherComponent="FoggyWeather":this.timestamp>=this.sunset+3600&&this.timestamp<=this.sunrise-3600&&(this.weatherComponent="FoggyNightWeather")},mist:()=>{this.timestamp>=this.sunrise-3600&&this.timestamp<=this.sunset+3600?this.weatherComponent="FoggyWeather":this.timestamp>=this.sunset+3600&&this.timestamp<=this.sunrise-3600&&(this.weatherComponent="FoggyNightWeather")},smoke:()=>{this.timestamp>=this.sunrise-3600&&this.timestamp<=this.sunset+3600?this.weatherComponent="FoggyWeather":this.timestamp>=this.sunset+3600&&this.timestamp<=this.sunrise-3600&&(this.weatherComponent="FoggyNightWeather")}},w=p[this.weather];w&&w()}else this.alertMessage="Город не найден",this.alertShow=!0,this.weatherDataReceived=!1}catch(t){this.alertMessage="Нет подключения к интернету",this.alertShow=!0,this.weatherDataReceived=!1}finally{this.loaderShow=!1}},handleInput(){this.inputNotEmpty=this.$refs.cityInput.value.trim().length>0},handleAlertClose(){this.alertShow=!1}},components:{ClearSunriseWeather:F,ClearMiddayWeather:x,ClearSunsetWeather:Q,ClearNightWeather:nt,CloudsSunriseWeather:ht,CloudsMiddayWeather:Dt,CloudsSunsetWeather:Et,CloudsNightWeather:zt,RainWeather:Vt,RainNightWeather:ss,SnowWeather:os,SnowNightWeather:ps,FoggyWeather:Ws,FoggyNightWeather:As,Loader:Ls,Alert:Ks}};const Bs=(0,Z.Z)(Vs,[["render",_],["__scopeId","data-v-6d528a22"]]);var Gs=Bs;(0,e.ri)(Gs).mount("#app")},3343:function(t,s,a){t.exports=a.p+"media/rain.39ad671c.mp3"}},s={};function a(e){var i=s[e];if(void 0!==i)return i.exports;var n=s[e]={exports:{}};return t[e].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(s,e,i,n){if(!e){var d=1/0;for(l=0;l<t.length;l++){e=t[l][0],i=t[l][1],n=t[l][2];for(var r=!0,o=0;o<e.length;o++)(!1&n||d>=n)&&Object.keys(a.O).every((function(t){return a.O[t](e[o])}))?e.splice(o--,1):(r=!1,n<d&&(d=n));if(r){t.splice(l--,1);var c=i();void 0!==c&&(s=c)}}return s}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[e,i,n]}}(),function(){a.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(s,{a:s}),s}}(),function(){a.d=function(t,s){for(var e in s)a.o(s,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){a.p="/weather-app/"}(),function(){var t={143:0};a.O.j=function(s){return 0===t[s]};var s=function(s,e){var i,n,d=e[0],r=e[1],o=e[2],c=0;if(d.some((function(s){return 0!==t[s]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(o)var l=o(a)}for(s&&s(e);c<d.length;c++)n=d[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(l)},e=self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=a.O(void 0,[998],(function(){return a(3073)}));e=a.O(e)})();
//# sourceMappingURL=app.d82ee029.js.map